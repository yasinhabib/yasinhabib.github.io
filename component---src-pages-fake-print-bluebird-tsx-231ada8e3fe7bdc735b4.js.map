{"version":3,"file":"component---src-pages-fake-print-bluebird-tsx-231ada8e3fe7bdc735b4.js","mappings":"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","sources":["webpack://yasin-habib-s-portofolio/./src/pages/fake-print/bluebird.tsx"],"sourcesContent":["import * as React from \"react\"\r\nimport type { HeadFC, PageProps } from \"gatsby\"\r\nimport EscPosEncoder from \"@waymen/esc-pos-encoder\"\r\n\r\nconst pageStyles = {\r\n  color: \"#232129\",\r\n  fontFamily: \"-apple-system, Roboto, sans-serif, serif\",\r\n  padding: '50px 0'\r\n}\r\n\r\ntype ParamType = {\r\n    struckNo?: string,\r\n    dari?: string,\r\n    ke?: string,\r\n    noArmada?: string,\r\n    tanggal?: string,\r\n    waktuMulai?: string,\r\n    waktuSelesai?: string,\r\n    jarak?: string,\r\n    wait?: string,\r\n    ongkos?: string\r\n}\r\n\r\nconst IndexPage: React.FC<PageProps> = () => {\r\n    const [param,setParam] = React.useState<ParamType>()\r\n\r\n    const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setParam({\r\n            ...param,\r\n            [e.target.name] : e.target.value\r\n        })\r\n    }\r\n\r\n    const connectPrinter = async (setPrintCharacteristic: React.Dispatch<React.SetStateAction<BluetoothRemoteGATTCharacteristic | undefined>>) => {\r\n        try{\r\n          const res = await navigator.bluetooth.requestDevice({\r\n              filters: [{\r\n                  services: ['000018f0-0000-1000-8000-00805f9b34fb']\r\n              }]\r\n          })\r\n          const connected = await res.gatt?.connect()\r\n      \r\n          const primaryService = await connected?.getPrimaryService(\"000018f0-0000-1000-8000-00805f9b34fb\")\r\n          const characteristic = await primaryService?.getCharacteristic(\"00002af1-0000-1000-8000-00805f9b34fb\")\r\n          setPrintCharacteristic(characteristic)\r\n          return characteristic\r\n        }catch(error){\r\n          console.log(error);\r\n          setPrintCharacteristic(undefined)\r\n          return undefined\r\n        }\r\n    }\r\n\r\n    const print = async () => {\r\n        const res = await navigator.bluetooth.requestDevice({\r\n            filters: [{\r\n                services: ['000018f0-0000-1000-8000-00805f9b34fb']\r\n            }]\r\n        })\r\n        const connected = await res.gatt?.connect()\r\n    \r\n        const primaryService = await connected?.getPrimaryService(\"000018f0-0000-1000-8000-00805f9b34fb\")\r\n        const characteristic = await primaryService?.getCharacteristic(\"00002af1-0000-1000-8000-00805f9b34fb\")\r\n\r\n        if(!characteristic){\r\n            return false\r\n        }\r\n\r\n        let img = new Image();\r\n        img.src = '/blue-bird-logo.png';\r\n        \r\n        let encoder = new EscPosEncoder();\r\n        let result = encoder\r\n            .initialize()\r\n        img.onload = async () => {\r\n            console.log('test')\r\n            result\r\n                .align('center')\r\n                .image(img, 64, 56, 'atkinson')\r\n\r\n            await characteristic?.writeValue(result.encode())\r\n\r\n            let encoder1 = new EscPosEncoder();\r\n            let result1 = encoder1\r\n                .initialize()\r\n                .align('center')\r\n                .size(3)\r\n                .bold(true)\r\n                .line('BLUE BIRD GROUP',40)\r\n                .bold(false)\r\n                .size(0)\r\n                .line('Call Center')\r\n                .line('021-7917 1234. 7941234')\r\n                .align('left')\r\n                .line(`    Struck no.: ${param?.struckNo}`)\r\n                .line(`    Dari: ..............`)\r\n                .line(`    Ke: ..............`)\r\n                .line(`    No Armada: ${param?.noArmada}`)\r\n                .line(`    Tanggal: ${param?.tanggal}`)\r\n                .line(`    Waktu: ${param?.waktuMulai} - ${param?.waktuSelesai}`)\r\n                .line(`    Jarak: ${param?.jarak} km`)\r\n                .line(`    Wait: ${param?.wait} m.s`)\r\n                .line(`    Ongkos: Rp. ${param?.ongkos}`)\r\n                .align('center')\r\n                .line('* TERIMA KASIH *')\r\n                .newline()\r\n                .newline()\r\n            await characteristic?.writeValue(result1.encode())\r\n        }\r\n    }\r\n    return (\r\n        <main style={pageStyles}>\r\n        <div style={{display:'flex', flexDirection: 'column', alignItems: 'start', gap: '1rem'}}>\r\n            <label>Struck No</label>\r\n            <input type=\"text\" name=\"struckNo\" placeholder=\"ex: 0005-00\" onChange={onChange} />\r\n            <label>No Armada</label>\r\n            <input type=\"text\" name=\"noArmada\" placeholder=\"ex: LL142\" onChange={onChange} />\r\n            <label>Tanggal</label>\r\n            <input type=\"text\" name=\"tanggal\" placeholder=\"ex: 17/01/2016\" onChange={onChange} />\r\n            <label>Waktu Mulai</label>\r\n            <input type=\"text\" name=\"waktuMulai\" placeholder=\"ex: 03:01\" onChange={onChange} />\r\n            <label>Waktu Selesai</label>\r\n            <input type=\"text\" name=\"waktuSelesai\" placeholder=\"ex: 03:29\" onChange={onChange} />\r\n            <label>Jarak</label>\r\n            <input type=\"text\" name=\"jarak\" placeholder=\"ex: 7.150\" onChange={onChange} />\r\n            <label>Wait</label>\r\n            <input type=\"text\" name=\"wait\" placeholder=\"ex: 12.11\" onChange={onChange} />\r\n            <label>Ongkos</label>\r\n            <input type=\"text\" name=\"ongkos\" placeholder=\"ex: 37660\" onChange={onChange} />\r\n\r\n            <button type=\"button\" onClick={() => print()}>Print</button>\r\n        </div>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default IndexPage\r\n\r\nexport const Head: HeadFC = () => <title>Fake print BlueBird</title>\r\n"],"names":["pageStyles","color","fontFamily","padding","param","setParam","React","onChange","e","target","name","value","style","display","flexDirection","alignItems","gap","type","placeholder","onClick","async","res","navigator","bluetooth","requestDevice","filters","services","connected","gatt","_res$gatt2","connect","primaryService","getPrimaryService","characteristic","getCharacteristic","img","Image","src","result","EscPosEncoder","initialize","onload","console","log","align","image","writeValue","encode","result1","size","bold","line","struckNo","noArmada","tanggal","waktuMulai","waktuSelesai","jarak","wait","ongkos","newline","print","Head"],"sourceRoot":""}